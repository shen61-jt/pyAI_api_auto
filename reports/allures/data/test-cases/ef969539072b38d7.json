{"uid":"ef969539072b38d7","name":"test_recharge[case0]","fullName":"testcases.student.test_4_recharge#test_recharge","historyId":"7d685af5a2f83414b7d7dfe59c0298a2","time":{"start":1758533431381,"stop":1758533436169,"duration":4788},"description":"描述：充值模块","descriptionHtml":"<p>描述：充值模块</p>\n","status":"failed","statusMessage":"AssertionError","statusTrace":"case = {'提取响应字段': '{\"id\":\"$..id\",\"token\":\"$...token\"}', '数据库断言': None, '期望结果': '{\"status_code\":200}', '用例标题': '登录', ...}\n\n>   ???\n\nD:\\Pycharm-Workspace\\api_auto-master\\testcases\\shop\\test_4_recharge.py:26: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\ncase = {'提取响应字段': '{\"id\":\"$..id\",\"token\":\"$...token\"}', '数据库断言': None, '期望结果': '{\"status_code\":200}', '用例标题': '登录', ...}\nres = <Response [502]>\n\n    def assert_res(case, res):\n        \"\"\"\n        统一响应断言封装\n        :param case: 用例数据\n        :param res: 接口响应\n        :return: 没有返回\n        \"\"\"\n        # 获取期望结果\n        case_expect = case['期望结果']\n        if case_expect:\n            logger.info('-------------------------断言日志---------------------------')\n            dic = json.loads(case_expect)\n            # 遍历期望结果字典，k：响应字段，v：期望结果\n            for k, v in dic.items():\n                # 响应状态码断言\n                if k == 'status_code':\n>                   assert res.status_code == v\nE                   AssertionError\n\ncommon\\base_test.py:133: AssertionError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"_session_faker","time":{"start":1758533416614,"stop":1758533416645,"duration":31},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"shouldDisplayMessage":false,"attachmentsCount":0,"attachmentStep":false,"stepsCount":0},{"name":"setup_class","time":{"start":1758533416645,"stop":1758533416646,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"shouldDisplayMessage":false,"attachmentsCount":0,"attachmentStep":false,"stepsCount":0},{"name":"teardown_class","time":{"start":1758533416646,"stop":1758533416646,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"shouldDisplayMessage":false,"attachmentsCount":0,"attachmentStep":false,"stepsCount":0}],"testStage":{"description":"描述：充值模块","status":"failed","statusMessage":"AssertionError","statusTrace":"case = {'提取响应字段': '{\"id\":\"$..id\",\"token\":\"$...token\"}', '数据库断言': None, '期望结果': '{\"status_code\":200}', '用例标题': '登录', ...}\n\n>   ???\n\nD:\\Pycharm-Workspace\\api_auto-master\\testcases\\shop\\test_4_recharge.py:26: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\ncase = {'提取响应字段': '{\"id\":\"$..id\",\"token\":\"$...token\"}', '数据库断言': None, '期望结果': '{\"status_code\":200}', '用例标题': '登录', ...}\nres = <Response [502]>\n\n    def assert_res(case, res):\n        \"\"\"\n        统一响应断言封装\n        :param case: 用例数据\n        :param res: 接口响应\n        :return: 没有返回\n        \"\"\"\n        # 获取期望结果\n        case_expect = case['期望结果']\n        if case_expect:\n            logger.info('-------------------------断言日志---------------------------')\n            dic = json.loads(case_expect)\n            # 遍历期望结果字典，k：响应字段，v：期望结果\n            for k, v in dic.items():\n                # 响应状态码断言\n                if k == 'status_code':\n>                   assert res.status_code == v\nE                   AssertionError\n\ncommon\\base_test.py:133: AssertionError","steps":[],"attachments":[{"uid":"94081610497becc2","name":"用例标题","source":"94081610497becc2.attach","type":"text/plain","size":6},{"uid":"9a8f48417591107f","name":"请求方法","source":"9a8f48417591107f.attach","type":"text/plain","size":4},{"uid":"a35318a8cff3ceab","name":"请求地址","source":"a35318a8cff3ceab.attach","type":"text/plain","size":52},{"uid":"256055383164b2fd","name":"请求头","source":"256055383164b2fd.txt","type":"text/plain","size":76},{"uid":"ff8df41fe40ac4ab","name":"请求参数","source":"ff8df41fe40ac4ab.txt","type":"text/plain","size":50},{"uid":"c0bfb8c7193c842a","name":"响应状态码","source":"c0bfb8c7193c842a.txt","type":"text/plain","size":3},{"uid":"d507f1e129365b77","name":"响应时间","source":"d507f1e129365b77.txt","type":"text/plain","size":11},{"uid":"80b24d5062f1363b","name":"响应头","source":"80b24d5062f1363b.txt","type":"text/plain","size":46}],"parameters":[],"hasContent":true,"shouldDisplayMessage":true,"attachmentsCount":8,"attachmentStep":false,"stepsCount":0},"afterStages":[{"name":"teardown_class::0","time":{"start":1758533453517,"stop":1758533453559,"duration":42},"status":"passed","steps":[],"attachments":[{"uid":"a29addc18b2579d0","name":"fixture后置处理","source":"a29addc18b2579d0.txt","type":"text/plain","size":18}],"parameters":[],"hasContent":true,"shouldDisplayMessage":false,"attachmentsCount":1,"attachmentStep":false,"stepsCount":0},{"name":"setup_class::0","time":{"start":1758533453560,"stop":1758533453560,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"shouldDisplayMessage":false,"attachmentsCount":0,"attachmentStep":false,"stepsCount":0}],"labels":[{"name":"feature","value":"充值模块"},{"name":"severity","value":"blocker"},{"name":"epic","value":"AI学生端项目"},{"name":"parentSuite","value":"testcases.student"},{"name":"suite","value":"test_4_recharge"},{"name":"host","value":"DESKTOP-GLFP8VP"},{"name":"thread","value":"104384-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"testcases.student.test_4_recharge"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"case","value":"{'用例编号': 1, '用例标题': '登录', '请求地址': 'http://api.lemonban.com:8788/futureloan/member/login', '请求方法': 'POST', '请求头': '{\"X-Lemonban-Media-Type\": \"lemonban.v3\", \"Content-Type\": \"application/json\"}', '请求参数': '{\"mobile_phone\": \"13323231111\", \"pwd\": \"12345678\"}', '期望结果': '{\"status_code\":200}', '数据库断言': None, '提取响应字段': '{\"id\":\"$..id\",\"token\":\"$...token\"}'}"}],"links":[{"name":"接口地址","url":"http://shop.lemonban.com:8107/login","type":"link"}],"hidden":false,"retry":false,"extra":{"severity":"blocker","retries":[],"categories":[{"name":"Product defects","matchedStatuses":[]}],"tags":[]},"source":"ef969539072b38d7.json","parameterValues":["{'用例编号': 1, '用例标题': '登录', '请求地址': 'http://api.lemonban.com:8788/futureloan/member/login', '请求方法': 'POST', '请求头': '{\"X-Lemonban-Media-Type\": \"lemonban.v3\", \"Content-Type\": \"application/json\"}', '请求参数': '{\"mobile_phone\": \"13323231111\", \"pwd\": \"12345678\"}', '期望结果': '{\"status_code\":200}', '数据库断言': None, '提取响应字段': '{\"id\":\"$..id\",\"token\":\"$...token\"}'}"]}